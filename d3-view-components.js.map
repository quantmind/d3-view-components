{"version":3,"file":"d3-view-components.js","sources":["../active/index.js","../alert/index.js","../autocomplete/index.js","../collapse/index.js","../flatpickr/index.js","../marked/index.js","../modal/index.js","../sidebar/index.js","../tabs/index.js","../router/navigo.js","../router/index.js","../index.js"],"sourcesContent":["import {viewEvents, viewProviders} from 'd3-view';\n\n\nexport default {\n\n    //\n    // Listen for changes to the currentUrl attribute\n    mount (model) {\n        var dir = this;\n        model.$on(`currentUrl.${this.uid}`, () => dir.refresh(model));\n        return model;\n    },\n\n    refresh (model) {\n        const\n            href = this.el.href,\n            current = model.currentUrl,\n            sel = this.sel;\n\n        sel.classed('active', false);\n\n        if (!href || !current || href !== current.substring(0, href.length)) return;\n        if (sel.attr('data-active-strict') !== null && href !== current) return;\n\n        var rel = current.substring(href.length),\n            dvd = rel.substring(0, 1);\n\n        if (!rel || dvd === '/' || dvd === '#')\n            this.sel.classed('active', true);\n    },\n\n    //\n    // Remove listener for changes to the currentUrl attribute\n    destroy (model) {\n        if (model)\n            model.$off(`currentUrl.${this.uid}`);\n    }\n};\n\n//\n// Make sure the currentUrl attribute is reactive\nviewEvents.on('component-created', vm => {\n    if (!vm.parent) vm.model.currentUrl = viewProviders.location.href;\n});\n","import {isString} from 'd3-let';\n\n\nconst levels = {\n    error: 'danger',\n    warn: 'warning'\n};\n\n\n// component render function\nexport default {\n\n    props: {\n        transitionDuration: 0\n    },\n\n    model () {\n        return {\n            messages: [],\n\n            $messageClass (message) {\n                return 'alert-' + (levels[message.level] || message.level);\n            },\n\n            $close (msg) {\n                var messages = this.messages;\n\n                delete this.$$messageIds[messageKey(msg)];\n\n                for (let i=0; i<messages.length; ++i) {\n                    if (msg === messages[i]) {\n                        this.messages = messages.slice();\n                        this.messages.splice(i, 1);\n                        break;\n                    }\n                }\n            }\n        };\n    },\n\n    render (props) {\n\n        var model = this.model,\n            messages = model.messages.splice(0),\n            messageIds = {},\n            root = model.isolatedRoot;\n\n        model.$$messageIds = messageIds;\n\n        root.$alertMessage = onMessage;\n\n        messages.forEach(onMessage);\n\n        function onMessage (data) {\n            if (!data) return;\n            if (isString(data)) data = {message: data};\n            if (data.message) {\n                if (!data.level) data.level = 'info';\n                var key = messageKey(data),\n                    msg = messageIds[key];\n                if (msg) msg.count += 1;\n                else {\n                    data.count = 1;\n                    msg = model.$new(data);\n                    messageIds[key] = msg;\n                    model.$push('messages', msg);\n                }\n            }\n        }\n\n        return this.renderFromDist('d3-view-components', '/alert/template.html', props);\n    }\n};\n\n\nfunction messageKey (msg) {\n    return `${msg.level}::${msg.message}`;\n}\n","import {assign} from 'd3-let';\n\n\nconst\n    sep = new RegExp('[^,]*$'),\n    rep = new RegExp('^.+,*|');\n\n\nconst multiple = {\n    filter (text, input) {\n        return window.Awesomplete.FILTER_CONTAINS(text, input.match(sep)[0]);\n    },\n\n    item (text, input) {\n        return window.Awesomplete.ITEM(text, input.match(sep)[0]);\n    },\n\n    replace (text) {\n        var before = this.input.value.match(rep)[0];\n        this.input.value = before + text + \", \";\n    }\n};\n\n\nexport default {\n\n    refresh (model, awe) {\n        if (!this.awe) {\n            var self = this;\n            this.awe = true;\n            awe = awe || {};\n            this.htmlAttribute(awe, 'multiple');\n\n            this.providers.require('awesomplete').catch(() => {\n                if (!window.Awesomplete)\n                    return self.logError(`Could not load awesomplete`);\n                self.build(model, awe);\n            });\n        }\n    },\n\n    build (model, awe) {\n        var self = this,\n            cfg = self.getConfig(awe);\n\n        if (awe.url) {\n            this.json(awe.url).then(response => {\n                var data = response.data;\n                model.$emit('autoCompleteData', data);\n                cfg.list = data;\n                self.awe = new window.Awesomplete(self.el, cfg);\n            });\n        } else {\n            self.awe = new window.Awesomplete(self.el, cfg);\n        }\n    },\n\n    getConfig (awe) {\n        var cfg = {\n            minChars: awe.minChars || 2,\n        };\n        if (awe.label || awe.value) {\n            if (!awe.label) awe.label = 'label';\n            if (!awe.value) awe.value = 'value';\n\n            cfg.data = function (d) {\n                return {\n                    label: d[awe.label],\n                    value: d[awe.value]\n                };\n            };\n        }\n        if (awe.multiple) assign(cfg, multiple);\n        return cfg;\n    },\n\n    htmlAttribute (o, name) {\n        if (o[name] === undefined) {\n            var value = this.sel.attr(`data-${name}`);\n            if (value !== undefined) o[name] = value === null ? false : value || true;\n        }\n    }\n};\n","import {dispatch} from 'd3-dispatch';\n\nconst\n    COLLAPSE = 'collapse',\n    COLLAPSING = 'd3-collapsing',\n    COLLAPSED = 'collapsed',\n    WIDTH = 'width',\n    SHOW = 'show';\n\nexport const events = dispatch(\n    'show-start',\n    'show-end',\n    'hide-start',\n    'hide-end'\n);\n\n\nexport default {\n    events,\n\n    refresh () {\n        if (this.target) return;\n\n        var self = this,\n            sel = this.sel,\n            tid = sel.attr('aria-controls'),\n            target = tid ? this.select(`#${tid}`) : null,\n            node = target ? target.node() : null;\n\n        if (node) {\n            node.d3Collapse = this;\n            this.target = target;\n            this.smallScreen = sel.attr('data-small-screen') || 993;\n            this.container = this.getContainer(target);\n            const isOpen = target.classed(SHOW);\n            this.duration = 400;\n            this.transitioning = false;\n            sel.classed(COLLAPSED, !isOpen);\n            sel.attr('aria-expanded', isOpen);\n            this.on(sel, `click.${this.uid}`, (event) => self.toggle(target, event));\n        }\n    },\n\n    show (target, event) {\n        if (this.transitioning || target.classed(SHOW)) return;\n        if (event) event.preventDefault();\n        var self = this,\n            sel = this.sel,\n            dimension = this.getDimension(target);\n        target.classed(COLLAPSE, false).classed(COLLAPSING, true).style(dimension, 0);\n        sel.classed(COLLAPSED, false).attr('aria-expanded', true);\n        this.transitioning = true;\n        const capitalizedDimension = dimension[0].toUpperCase() + dimension.slice(1),\n            scrollSize = `scroll${capitalizedDimension}`,\n            node = target.node(),\n            size = node[scrollSize],\n            sizepx = `${size}px`;\n\n        if (this.container) this.container.show(sizepx);\n        events.call('show-start', undefined, target);\n\n        target.transition()\n            .duration(this.duration)\n            .style(dimension, sizepx)\n            .on(\"end\", () => {\n                self.transitioning = false;\n                target.classed(COLLAPSING, false).classed(COLLAPSE, true).classed(SHOW, true);\n                target.style(dimension, '');\n                events.call('show-end', undefined, target);\n            });\n    },\n\n    hide (target, event) {\n        if (this.transitioning || !target.classed('show')) return;\n        if (event) event.preventDefault();\n        var self = this,\n            sel = this.sel,\n            dimension = this.getDimension(target);\n        target.classed(COLLAPSING, true).classed(COLLAPSE, false).classed(SHOW, false);\n        sel.classed(COLLAPSED, true).attr('aria-expanded', false);\n        this.transitioning = true;\n        target.style(dimension, '');\n        if (this.container) this.container.hide();\n        events.call('hide-start', undefined, target);\n        target.transition()\n            .duration(this.duration)\n            .style(dimension, '0px')\n            .on(\"end\", () => {\n                self.transitioning = false;\n                target.classed(COLLAPSING, false).classed(COLLAPSE, true);\n                events.call('hide-end', undefined, target);\n            });\n    },\n\n    toggle (target, event) {\n        var sel = this.sel,\n            expanded = sel.attr('aria-expanded');\n        if (expanded === 'false') this.show(target, event);\n        else this.hide(target, event);\n    },\n\n    getDimension (target) {\n        return target.classed(WIDTH) ? 'width' : 'height';\n    },\n\n    getContainer (target) {\n        const self = this,\n            style = target.attr('data-container'),\n            element = style ? this.select(target.node().parentNode) : null;\n\n        if (element) {\n            let small = this.getSize(target);\n\n            this.select(window)\n                .on(`resize.${this.uid}`, () => {\n                    small = self.getSize(target, small);\n                });\n\n\n            return {\n                show (sizepx) {\n                    element\n                        .transition()\n                        .duration(self.duration)\n                        .style(style, sizepx)\n                        .on(\"end\", () => {\n                            element.classed(SHOW, true).style(style, '');\n                        });\n                },\n                hide () {\n                    element\n                        .transition()\n                        .duration(self.duration)\n                        .style(style, '0px')\n                        .on(\"end\", () => {\n                            element.classed(SHOW, false);\n                        });\n                }\n            };\n        }\n    },\n\n    getSize (target, prev) {\n        const sizepx = this.select('body').style('width'),\n            size = +sizepx.substring(0, sizepx.length-2),\n            small = +size < this.smallScreen;\n        if (prev === undefined) {\n            if (small) target.classed(SHOW, false);\n        } else if (small !== prev) {\n            if (small) this.hide(target);\n            else this.show(target);\n        }\n        return small;\n    },\n\n    destroy () {\n        if (this.target) this.target.on(`click.${this.uid}`, null);\n    }\n\n};\n","import {viewProviders} from 'd3-view';\n\n\nexport default {\n\n    refresh (model, options) {\n        var self = this,\n            opts = options && options.$data ? options.$data() : {};\n\n        viewProviders.require('flatpickr').then(flatpickr => {\n            if (self.fp) self.fp.destroy();\n            self.sel.on('input', null);\n            self.sel.on('change', null);\n            model.$emit('flatpickr', opts);\n            self.fp = flatpickr(self.el, opts);\n        });\n    },\n\n    destroy () {\n        if (this.fp) {\n            this.fp.destroy();\n            this.fp = null;\n        }\n    }\n};\n\n","import {viewProviders, viewSlugify} from 'd3-view';\n\n\nexport default {\n\n    refresh (model, doc) {\n        var self = this,\n            r = viewProviders.require,\n            marked, hl;\n\n        self.sel.classed('markdown-body', true);\n        Promise.all([r('marked'), r('highlightjs')]).then(libs => {\n            [marked, hl] = libs;\n            if (!self._markedOptions)\n                self._markedOptions = self.markedOptions(model, marked, hl);\n            self.sel.html(doc ? marked(doc, self._markedOptions) : '');\n            model.$emit('markedElement', self.el);\n            self.selectChildren().mount();\n        });\n    },\n\n    markedOptions (model, marked, hl) {\n        if (this._markedOptions) return self._markedOptions;\n        var renderer = new marked.Renderer(),\n            icon = model.markedAnchorIcon || 'ion-ios-grid-view-outline';\n\n        renderer.heading = heading;\n\n        return {\n            renderer,\n            highlight,\n            langPrefix: \"hljs \"\n        };\n\n        function heading (text, level) {\n            var id = viewSlugify(text);\n            return `<h${level}><a href=\"#${id}\" aria-hidden=\"true\" class=\"anchor\" id=\"content-${id}\"><i class=\"${icon}\"></i></a> ${text}</h${level}>`;\n        }\n\n        function highlight (code, lang) {\n            lang = hl.getLanguage(lang) ? [lang] : undefined;\n            return hl.highlightAuto(code, lang).value;\n        }\n    }\n\n};\n","import {easeExpOut} from 'd3-ease';\nimport {isString} from 'd3-let';\nimport {viewWarn, viewBase} from 'd3-view';\n\n\nconst select = viewBase.select;\n\n\nconst modalComponent = {\n    props: {\n        transitionDuration: 300\n    },\n\n    model: {\n        modalTitle: \"d3-view modal\",\n        modalBody: '',\n        modalDisabled: false,\n        modalActions: [\n            {\n                label: \"Close\"\n            }\n        ],\n        showModal: false,\n        $showModal () {\n            this.showModal = true;\n        },\n        $hideModal () {\n            this.showModal = false;\n        },\n        $actionClass (action) {\n            return action.level ? `btn-${action.level}` : 'btn-secondary';\n        },\n        $action (action) {\n            if (action.$action) action.$action();\n            else this.$hideModal();\n        },\n        $actionLabel (action) {\n            var html = action.icon ? `<i class='${action.icon}'></i> ` : '';\n            return `${html}${action.label}`;\n        }\n    },\n\n    render: function (props) {\n        return this.renderFromDist('d3-view-components', '/modal/template.html', props);\n    }\n\n};\n\n\nconst modalDirective = {\n    refresh (model, show) {\n        if (!this.passes) return;\n        var sel = this.sel,\n            modal = sel.classed('modal');\n        let height;\n        if (show) {\n            sel.style('display', 'block').classed('show', true);\n            if (modal) {\n                height = sel.style('height');\n                sel.style('top', '-' + height);\n                this.transition(sel).ease(easeExpOut).style('top', '0px');\n            }\n        }\n        else {\n            var op = sel.style('opacity'),\n                t = this.transition(sel);\n            sel.classed('show', false);\n            if (modal) {\n                height = sel.style('height');\n                t.style('top', '-' + height).on('end', function () {\n                    sel.style('display', 'none');\n                });\n            } else\n                t.style('opacity', 0);\n            t.on('end', function () {\n                sel.style('display', 'none').style('opacity', op);\n            });\n        }\n    }\n};\n\n\nexport default {\n    modalComponent,\n    modalDirective,\n    modalOpen,\n\n    install (vm) {\n        vm.addComponent('modal', modalComponent);\n        vm.addDirective('modal', modalDirective);\n        vm.model.$openModal = modalOpen;\n    }\n};\n\n\n// function for opening a modal\n// inject this method to the root model\nfunction modalOpen (options) {\n    if (isString(options)) options = optionsFromTarget(options);\n    var modal = select('#d3-view-modal');\n    if (!modal.size())\n        select('body').append('modal').mount(options, vm => vm.model.$showModal());\n    else\n        modal.model().$update(options).$showModal();\n}\n\n\nfunction optionsFromTarget (selector) {\n    var sel = select(selector);\n    if (sel.size() === 1) {\n        return {\n            modalTitle: textFromTarget(sel.select('modal-title')),\n            modalBody: textFromTarget(sel.select('modal-body'))\n        };\n    } else {\n        viewWarn(`Could not obtain target from selector \"${selector}\"`);\n        return {};\n    }\n}\n\nfunction textFromTarget (sel) {\n    if (sel.size()) return sel.html();\n    return '';\n}\n","import {viewModel} from 'd3-view';\n\n//\n//  Reusable Sidebar component\n//  ================================\n//\n//  Requires:\n//\n//  * collapse directive\n//  * active directive (Optional)\n//\nexport default {\n    props: {\n        id: 'sidebar',\n        brand: 'sidebar',\n        classes: 'navbar-sidebar navbar sticky-top navbar-dark bg-primary',\n        brandUrl: '/',\n        itemAttr: ''\n    },\n\n    model: {\n        primaryItems: [],\n        secondaryItems: [],\n        sidebarToggle: '<i class=\"ion-android-menu\"></i>',\n        // navbar attributes\n        navbarItems: [],\n        navbarTitle: \"\",\n        navbarTitleUrl: \"/\",\n        // collapse action\n        $collapse () {\n            var collapse = this.$event ? this.$event.currentTarget.d3Collapse : null;\n            if (collapse)\n                collapse.hide(collapse.select(this.$event.currentTarget));\n        }\n    },\n\n    render (props, attrs, el) {\n        var model = this.model;\n        asItems(model, model.primaryItems);\n        asItems(model, model.secondaryItems);\n        asItems(model, model.navbarItems);\n        props.sidebarContent = this.select(el).html();\n        return this.renderFromDist('d3-view-components', '/sidebar/template.html', props);\n    }\n};\n\n\nfunction asItems (model, items) {\n    let item;\n    for (let i=0; i<items.length; ++i) {\n        item = items[i];\n        if (typeof item === 'string')\n            item = {\n                name: item\n            };\n        if (!(item instanceof viewModel)) item = model.$new(item);\n        if (!item.href) item.$set('href', item.name);\n        items[i] = item;\n    }\n}\n","import {isObject, isString} from 'd3-let';\nimport {viewSlugify} from 'd3-view';\n\n\nconst tabClasses = {\n    none: null,\n    tabs: 'nav-tabs',\n    pills: 'nav-pills'\n};\n\n\n//  Reusable Tabs component with Navigo\n//\n//  Requires:\n//\n//  * d3-active directive\n//\nexport default {\n    props: {\n        tabTransitionDuration: 250\n    },\n\n    model () {\n        return {\n            tabItems: [],\n            tabType: 'tabs',\n            tabTarget: \"\",\n            tabClass: {\n                reactOn: ['tabType'],\n                get () {\n                    return tabClasses[this.tabType];\n                }\n            },\n            // select a tab\n            $selectTab (tab) {\n                if (isObject(tab)) tab = tab.href;\n\n                var target = this.targets.get(tab),\n                    event = this.$event;\n\n                if (target) {\n                    // when local targets are available rather than remote ones\n                    this.tabTarget = target;\n                    if (event && event.currentTarget) this.currentUrl = event.currentTarget.href;\n                } else {\n                    // use router if available\n                    var router = this.$$view.root.router;\n                    if (router && event && event.currentTarget) {\n                        event.preventDefault();\n                        router.navigate(event.currentTarget.href, true);\n                    }\n                }\n                this.tabItems.forEach(item => {\n                    item.active = (item.href === tab);\n                });\n            }\n        };\n    },\n\n    render (props, attrs, el) {\n        var self = this,\n            model = this.model,\n            items = model.tabItems;\n\n        model.targets = new Map;\n\n        items.forEach((item, idx) => {\n            if (isString(item)) {\n                item = model.$new({label: item});\n                items[idx] = item;\n            }\n            if (!item.label) item.label = `item ${idx+1}`;\n            if (!item.id) item.id = viewSlugify(item.label);\n            if (!item.href) item.href = `#${item.id}`;\n            //\n            return item;\n        });\n\n        //\n        //  cache existing targets if avalable\n        this.selectChildren(el).each(function (idx) {\n            var sel = self.select(this),\n                id = sel.attr('id') || (items[idx] ? items[idx].id : null);\n            if (id) model.targets.set(`#${id}`, sel.html());\n        });\n\n        // model.type = data.type;\n        return this.renderFromDist('d3-view-components', '/tabs/template.html', props);\n    },\n\n    mounted () {\n\n    }\n};\n","function isPushStateAvailable() {\n  return !!(\n    typeof window !== 'undefined' &&\n    window.history &&\n    window.history.pushState\n  );\n}\n\nfunction Navigo(r, useHash, hash) {\n  this.root = null;\n  this._routes = [];\n  this._useHash = useHash;\n  this._hash = typeof hash === 'undefined' ? '#' : hash;\n  this._paused = false;\n  this._destroyed = false;\n  this._lastRouteResolved = null;\n  this._notFoundHandler = null;\n  this._defaultHandler = null;\n  this._usePushState = !useHash && isPushStateAvailable();\n  this._onLocationChange = this._onLocationChange.bind(this);\n  this._genericHooks = null;\n  this._historyAPIUpdateMethod = 'pushState';\n\n  if (r) {\n    this.root = useHash ? r.replace(/\\/$/, '/' + this._hash) : r.replace(/\\/$/, '');\n  } else if (useHash) {\n    this.root = this._cLoc().split(this._hash)[0].replace(/\\/$/, '/' + this._hash);\n  }\n\n  this._listen();\n  this.updatePageLinks();\n}\n\nfunction clean(s) {\n  if (s instanceof RegExp) return s;\n  return s.replace(/\\/+$/, '').replace(/^\\/+/, '^/');\n}\n\nfunction regExpResultToParams(match, names) {\n  if (names.length === 0) return null;\n  if (!match) return null;\n  return match\n    .slice(1, match.length)\n    .reduce((params, value, index) => {\n      if (params === null) params = {};\n      params[names[index]] = decodeURIComponent(value);\n      return params;\n    }, null);\n}\n\nfunction replaceDynamicURLParts(route) {\n  var paramNames = [], regexp;\n\n  if (route instanceof RegExp) {\n    regexp = route;\n  } else {\n    regexp = new RegExp(\n      route.replace(Navigo.PARAMETER_REGEXP, function (full, dots, name) {\n        paramNames.push(name);\n        return Navigo.REPLACE_VARIABLE_REGEXP;\n      })\n      .replace(Navigo.WILDCARD_REGEXP, Navigo.REPLACE_WILDCARD) + Navigo.FOLLOWED_BY_SLASH_REGEXP\n    , Navigo.MATCH_REGEXP_FLAGS);\n  }\n  return { regexp, paramNames };\n}\n\nfunction getUrlDepth(url) {\n  return url.replace(/\\/$/, '').split('/').length;\n}\n\nfunction compareUrlDepth(urlA, urlB) {\n  return getUrlDepth(urlB) - getUrlDepth(urlA);\n}\n\nfunction findMatchedRoutes(url, routes = []) {\n  return routes\n    .map(route => {\n      var { regexp, paramNames } = replaceDynamicURLParts(clean(route.route));\n      var match = url.replace(/^\\/+/, '/').match(regexp);\n      var params = regExpResultToParams(match, paramNames);\n\n      return match ? { match, route, params } : false;\n    })\n    .filter(m => m);\n}\n\nfunction match(url, routes) {\n  return findMatchedRoutes(url, routes)[0] || false;\n}\n\nfunction root(url, routes) {\n  var matched = routes.map(\n    route => route.route === '' || route.route === '*' ? url : url.split(new RegExp(route.route + '($|\\/)'))[0]\n  );\n  var fallbackURL = clean(url);\n\n  if (matched.length > 1) {\n    return matched.reduce((result, url) => {\n      if (result.length > url.length) result = url;\n      return result;\n    }, matched[0]);\n  } else if (matched.length === 1) {\n    return matched[0];\n  }\n  return fallbackURL;\n}\n\nfunction isHashChangeAPIAvailable() {\n  return !!(\n    typeof window !== 'undefined' &&\n    'onhashchange' in window\n  );\n}\n\nfunction extractGETParameters(url) {\n  return url.split(/\\?(.*)?$/).slice(1).join('');\n}\n\nfunction getOnlyURL(url, useHash, hash) {\n  var onlyURL = url, split;\n  var cleanGETParam = str => str.split(/\\?(.*)?$/)[0];\n\n  if (typeof hash === 'undefined') {\n    // To preserve BC\n    hash = '#';\n  }\n\n  if (isPushStateAvailable() && !useHash) {\n    onlyURL = cleanGETParam(url).split(hash)[0];\n  } else {\n    split = url.split(hash);\n    onlyURL = split.length > 1 ? cleanGETParam(split[1]) : cleanGETParam(split[0]);\n  }\n\n  return onlyURL;\n}\n\nfunction manageHooks(handler, hooks, params) {\n  if (hooks && typeof hooks === 'object') {\n    if (hooks.before) {\n      hooks.before((shouldRoute = true) => {\n        if (!shouldRoute) return;\n        handler();\n        hooks.after && hooks.after(params);\n      }, params);\n    } else if (hooks.after) {\n      handler();\n      hooks.after && hooks.after(params);\n    }\n    return;\n  }\n  handler();\n};\n\nfunction isHashedRoot(url, useHash, hash) {\n  if (isPushStateAvailable() && !useHash) {\n    return false;\n  }\n\n  if (!url.match(hash)) {\n    return false;\n  }\n\n  let split = url.split(hash);\n\n  if (split.length < 2 || split[1] === '') {\n    return true;\n  }\n\n  return false;\n};\n\nNavigo.prototype = {\n  helpers: {\n    match,\n    root,\n    clean,\n    getOnlyURL\n  },\n  navigate: function (path, absolute) {\n    var to;\n\n    path = path || '';\n    if (this._usePushState) {\n      to = (!absolute ? this._getRoot() + '/' : '') + path.replace(/^\\/+/, '/');\n      to = to.replace(/([^:])(\\/{2,})/g, '$1/');\n      history[this._historyAPIUpdateMethod]({}, '', to);\n      this.resolve();\n    } else if (typeof window !== 'undefined') {\n      path = path.replace(new RegExp('^' + this._hash), '');\n      window.location.href =\n        window.location.href\n          .replace(/#$/, '')\n          .replace(new RegExp(this._hash + '.*$'), '') + this._hash + path;\n    }\n    return this;\n  },\n  on: function (...args) {\n    if (typeof args[0] === 'function') {\n      this._defaultHandler = { handler: args[0], hooks: args[1] };\n    } else if (args.length >= 2) {\n      if (args[0] === '/') {\n        let func = args[1];\n\n        if (typeof args[1] === 'object') {\n          func = args[1].uses;\n        }\n\n        this._defaultHandler = { handler: func, hooks: args[2] };\n      } else {\n        this._add(args[0], args[1], args[2]);\n      }\n    } else if (typeof args[0] === 'object') {\n      let orderedRoutes = Object.keys(args[0]).sort(compareUrlDepth);\n\n      orderedRoutes.forEach(route => {\n        this.on(route, args[0][route]);\n      });\n    }\n    return this;\n  },\n  off: function (handler) {\n    if (this._defaultHandler !== null && handler === this._defaultHandler.handler) {\n      this._defaultHandler = null;\n    } else if (this._notFoundHandler !== null && handler === this._notFoundHandler.handler) {\n      this._notFoundHandler = null;\n    }\n    this._routes = this._routes.reduce((result, r) => {\n      if (r.handler !== handler) result.push(r);\n      return result;\n    }, []);\n    return this;\n  },\n  notFound: function (handler, hooks) {\n    this._notFoundHandler = { handler, hooks: hooks };\n    return this;\n  },\n  resolve: function (current) {\n    var handler, m;\n    var url = (current || this._cLoc()).replace(this._getRoot(), '');\n\n    if (this._useHash) {\n      url = url.replace(new RegExp('^\\/' + this._hash), '/');\n    }\n\n    let GETParameters = extractGETParameters(current || this._cLoc());\n    let onlyURL = getOnlyURL(url, this._useHash, this._hash);\n\n    if (this._paused) return false;\n\n    if (\n        this._lastRouteResolved &&\n        onlyURL === this._lastRouteResolved.url &&\n        GETParameters === this._lastRouteResolved.query\n    ) {\n      if (this._lastRouteResolved.hooks && this._lastRouteResolved.hooks.already) {\n        this._lastRouteResolved.hooks.already(this._lastRouteResolved.params);\n      }\n      return false;\n    }\n\n    m = match(onlyURL, this._routes);\n\n    if (m) {\n      this._callLeave();\n      this._lastRouteResolved = {\n        url: onlyURL,\n        query: GETParameters,\n        hooks: m.route.hooks,\n        params: m.params,\n        name: m.route.name\n      };\n      handler = m.route.handler;\n      manageHooks(() => {\n        manageHooks(() => {\n          m.route.route instanceof RegExp ?\n            handler(...(m.match.slice(1, m.match.length))) :\n            handler(m.params, GETParameters);\n        }, m.route.hooks, m.params, this._genericHooks);\n      }, this._genericHooks, m.params);\n      return m;\n    } else if (this._defaultHandler && (\n        onlyURL === '' ||\n        onlyURL === '/' ||\n        onlyURL === this._hash ||\n        isHashedRoot(onlyURL, this._useHash, this._hash)\n    )) {\n      manageHooks(() => {\n        manageHooks(() => {\n          this._callLeave();\n          this._lastRouteResolved = { url: onlyURL, query: GETParameters, hooks: this._defaultHandler.hooks };\n          this._defaultHandler.handler(GETParameters);\n        }, this._defaultHandler.hooks);\n      }, this._genericHooks);\n      return true;\n    } else if (this._notFoundHandler) {\n      manageHooks(() => {\n        manageHooks(() => {\n          this._callLeave();\n          this._lastRouteResolved = { url: onlyURL, query: GETParameters, hooks: this._notFoundHandler.hooks };\n          this._notFoundHandler.handler(GETParameters);\n        }, this._notFoundHandler.hooks);\n      }, this._genericHooks);\n    }\n    return false;\n  },\n  destroy: function () {\n    this._routes = [];\n    this._destroyed = true;\n    clearTimeout(this._listeningInterval);\n    if (typeof window !== 'undefined') {\n      window.removeEventListener('popstate', this._onLocationChange);\n      window.removeEventListener('hashchange', this._onLocationChange);\n    }\n  },\n  updatePageLinks: function () {\n    var self = this;\n\n    if (typeof document === 'undefined') return;\n\n    this._findLinks().forEach(link => {\n      if (!link.hasListenerAttached) {\n        link.addEventListener('click', function (e) {\n          var location = self.getLinkPath(link);\n\n          if (!self._destroyed) {\n            e.preventDefault();\n            self.navigate(location.replace(/\\/+$/, '').replace(/^\\/+/, '/'));\n          }\n        });\n        link.hasListenerAttached = true;\n      }\n    });\n  },\n  generate: function (name, data = {}) {\n    var result = this._routes.reduce((result, route) => {\n      var key;\n\n      if (route.name === name) {\n        result = route.route;\n        for (key in data) {\n          result = result.toString().replace(':' + key, data[key]);\n        }\n      }\n      return result;\n    }, '');\n\n    return this._useHash ? this._hash + result : result;\n  },\n  link: function (path) {\n    return this._getRoot() + path;\n  },\n  pause: function (status = true) {\n    this._paused = status;\n    if (status) {\n      this._historyAPIUpdateMethod = 'replaceState';\n    } else {\n      this._historyAPIUpdateMethod = 'pushState';\n    }\n  },\n  resume: function () {\n    this.pause(false);\n  },\n  historyAPIUpdateMethod: function (value) {\n    if (typeof value === 'undefined') return this._historyAPIUpdateMethod;\n    this._historyAPIUpdateMethod = value;\n    return value;\n  },\n  disableIfAPINotAvailable: function () {\n    if (!isPushStateAvailable()) {\n      this.destroy();\n    }\n  },\n  lastRouteResolved() {\n    return this._lastRouteResolved;\n  },\n  getLinkPath(link) {\n    return link.getAttribute('href');\n  },\n  hooks(hooks) {\n    this._genericHooks = hooks;\n  },\n  _add: function (route, handler = null, hooks = null) {\n    if (typeof route === 'string') {\n      route = encodeURI(route);\n    }\n    if (typeof handler === 'object') {\n      this._routes.push({\n        route,\n        handler: handler.uses,\n        name: handler.as,\n        hooks: hooks || handler.hooks\n      });\n    } else {\n      this._routes.push({ route, handler, hooks: hooks });\n    }\n    return this._add;\n  },\n  _getRoot: function () {\n    if (this.root !== null) return this.root;\n    this.root = root(this._cLoc().split('?')[0], this._routes);\n    return this.root;\n  },\n  _listen: function () {\n    if (this._usePushState) {\n      window.addEventListener('popstate', this._onLocationChange);\n    } else if (isHashChangeAPIAvailable()) {\n      window.addEventListener('hashchange', this._onLocationChange);\n    } else {\n      let cached = this._cLoc(), current, check;\n\n      check = () => {\n        current = this._cLoc();\n        if (cached !== current) {\n          cached = current;\n          this.resolve();\n        }\n        this._listeningInterval = setTimeout(check, 200);\n      };\n      check();\n    }\n  },\n  _cLoc: function () {\n    if (typeof window !== 'undefined') {\n      if (typeof window.__NAVIGO_WINDOW_LOCATION_MOCK__ !== 'undefined') {\n        return window.__NAVIGO_WINDOW_LOCATION_MOCK__;\n      }\n      return clean(window.location.href);\n    }\n    return '';\n  },\n  _findLinks: function () {\n    return [].slice.call(document.querySelectorAll('[data-navigo]'));\n  },\n  _onLocationChange: function () {\n    this.resolve();\n  },\n  _callLeave() {\n    if (this._lastRouteResolved && this._lastRouteResolved.hooks && this._lastRouteResolved.hooks.leave) {\n      this._lastRouteResolved.hooks.leave();\n    }\n  }\n};\n\nNavigo.PARAMETER_REGEXP = /([:*])(\\w+)/g;\nNavigo.WILDCARD_REGEXP = /\\*/g;\nNavigo.REPLACE_VARIABLE_REGEXP = '([^\\/]+)';\nNavigo.REPLACE_WILDCARD = '(?:.*)';\nNavigo.FOLLOWED_BY_SLASH_REGEXP = '(?:\\/$|$)';\nNavigo.MATCH_REGEXP_FLAGS = '';\n\nexport default Navigo;\n","import {dispatch} from 'd3-dispatch';\nimport {viewEvents, viewDebounce} from 'd3-view';\n\nimport Navigo from './navigo';\n\n\nexport default function (vm, config) {\n    config = config || {};\n    var events = dispatch('before', 'after', 'leave'),\n        baseUrl = vm.providers.resolve(config.basePath || '/'),\n        router = new Navigo(baseUrl);\n\n    vm.router = router;\n    vm.routerEvents = events;\n    vm.updatePageLinks = viewDebounce(function () {\n        vm.logDebug('update page links');\n        vm.router.updatePageLinks();\n    });\n    if (config.routes) config.routes(vm);\n\n    router.hooks({\n        before (done, params) {\n            events.call('before', undefined, vm, params);\n            done();\n        },\n        after (params) {\n            // var url = router.lastRouteResolved().url;\n            var url = vm.providers.location.href;\n            vm.model.$set('currentUrl', url);\n            events.call('after', undefined, vm, params);\n        },\n        leave (params) {\n            events.call('leave', undefined, vm, params);\n        }\n    });\n\n    viewEvents.on('component-mounted', function (cm) {\n        var root = cm.root;\n        if (root === vm) {\n            vm.updatePageLinks();\n            if (cm === vm && config.autoResolve !== false) {\n                vm.logDebug('Resolve route with router');\n                vm.router.resolve();\n            }\n        }\n    });\n\n    return vm;\n}\n","export {version as viewComponentsVersion} from './package.json';\nexport {default as viewActive} from './active/index';\nexport {default as viewAlert} from './alert/index';\nexport {default as viewAutocomplete} from './autocomplete/index';\nexport {default as viewCollapse} from './collapse/index';\nexport {default as viewFlatpickr} from './flatpickr/index';\nexport {default as viewMarked} from './marked/index';\nexport {default as viewModal} from './modal/index';\nexport {default as viewSidebar} from './sidebar/index';\nexport {default as viewTabs} from './tabs/index';\nexport {default as viewRouter} from './router/index';\n\nimport 'd3-transition';\nimport Handlebars from 'handlebars';\nimport {viewProviders} from 'd3-view';\n\nviewProviders.compileTemplate = Handlebars.compile;\n"],"names":["model","dir","$on","uid","refresh","href","el","current","currentUrl","sel","classed","substring","length","attr","rel","dvd","$off","viewEvents","on","vm","parent","viewProviders","location","levels","message","level","msg","messages","$$messageIds","messageKey","i","slice","splice","props","messageIds","root","isolatedRoot","$alertMessage","onMessage","forEach","data","isString","key","count","$new","$push","renderFromDist","sep","RegExp","rep","multiple","text","input","window","Awesomplete","FILTER_CONTAINS","match","ITEM","before","value","awe","self","htmlAttribute","providers","require","catch","logError","build","cfg","getConfig","url","json","then","response","$emit","list","minChars","label","d","assign","o","name","undefined","COLLAPSE","COLLAPSING","COLLAPSED","WIDTH","SHOW","events","dispatch","target","tid","select","node","d3Collapse","smallScreen","container","getContainer","isOpen","duration","transitioning","event","toggle","preventDefault","dimension","getDimension","style","capitalizedDimension","toUpperCase","scrollSize","size","sizepx","show","call","transition","hide","expanded","element","parentNode","small","getSize","prev","options","opts","$data","fp","destroy","flatpickr","doc","r","marked","hl","all","libs","_markedOptions","markedOptions","html","selectChildren","mount","renderer","Renderer","icon","markedAnchorIcon","heading","id","viewSlugify","highlight","code","lang","getLanguage","highlightAuto","viewBase","modalComponent","showModal","action","$action","$hideModal","modalDirective","passes","modal","height","ease","easeExpOut","op","t","addComponent","addDirective","$openModal","modalOpen","optionsFromTarget","append","$showModal","$update","selector","textFromTarget","collapse","$event","currentTarget","attrs","primaryItems","secondaryItems","navbarItems","sidebarContent","asItems","items","item","viewModel","$set","tabClasses","tabType","tab","isObject","targets","get","tabTarget","router","$$view","navigate","tabItems","active","Map","idx","each","set","isPushStateAvailable","history","pushState","Navigo","useHash","hash","_routes","_useHash","_hash","_paused","_destroyed","_lastRouteResolved","_notFoundHandler","_defaultHandler","_usePushState","_onLocationChange","bind","_genericHooks","_historyAPIUpdateMethod","replace","_cLoc","split","_listen","updatePageLinks","clean","s","regExpResultToParams","names","reduce","params","index","decodeURIComponent","replaceDynamicURLParts","route","paramNames","regexp","PARAMETER_REGEXP","full","dots","push","REPLACE_VARIABLE_REGEXP","WILDCARD_REGEXP","REPLACE_WILDCARD","FOLLOWED_BY_SLASH_REGEXP","MATCH_REGEXP_FLAGS","getUrlDepth","compareUrlDepth","urlA","urlB","findMatchedRoutes","routes","map","filter","m","matched","fallbackURL","result","isHashChangeAPIAvailable","extractGETParameters","join","getOnlyURL","onlyURL","cleanGETParam","str","manageHooks","handler","hooks","shouldRoute","after","isHashedRoot","prototype","path","absolute","to","_getRoot","resolve","args","func","babelHelpers.typeof","uses","_add","orderedRoutes","Object","keys","sort","GETParameters","query","already","_callLeave","_listeningInterval","removeEventListener","document","_findLinks","link","hasListenerAttached","addEventListener","e","getLinkPath","toString","status","pause","getAttribute","encodeURI","as","cached","check","setTimeout","__NAVIGO_WINDOW_LOCATION_MOCK__","querySelectorAll","leave","config","baseUrl","basePath","routerEvents","viewDebounce","logDebug","done","cm","autoResolve","compileTemplate","Handlebars","compile"],"mappings":"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"}