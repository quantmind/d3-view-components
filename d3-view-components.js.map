{"version":3,"file":"d3-view-components.js","sources":["../flatpickr/index.js","../marked/index.js","../modal/index.js","../collapse/index.js","../sidebar/index.js","../index.js"],"sourcesContent":["import {viewProviders} from 'd3-view';\n\n\nexport default {\n\n    refresh (model, options) {\n        var self = this,\n            opts = options && options.$data ? options.$data() : {};\n\n        viewProviders.require('flatpickr').then(flatpickr => {\n            if (self.fp) self.fp.destroy();\n            self.sel.on('input', null);\n            self.sel.on('change', null);\n            model.$emit('flatpickr', opts);\n            self.fp = flatpickr(self.el, opts);\n        });\n    },\n\n    destroy () {\n        if (this.fp) {\n            this.fp.destroy();\n            this.fp = null;\n        }\n    }\n};\n\n","import {viewProviders} from 'd3-view';\n\n\nexport default {\n\n    refresh (model, doc) {\n        var self = this,\n            r = viewProviders.require,\n            marked, hl;\n\n        Promise.all([r('marked'), r('highlightjs')]).then(libs => {\n            [marked, hl] = libs;\n            marked.setOptions({\n                highlight,\n                langPrefix: \"hljs \"\n            });\n            self.sel.html(doc ? marked(doc) : '');\n            model.$emit('markedElement', self.el);\n            self.selectChildren().mount();\n        });\n\n        function highlight (code, lang) {\n            lang = hl.getLanguage(lang) ? [lang] : undefined;\n            return hl.highlightAuto(code, lang).value;\n        }\n    }\n};\n","import {select} from 'd3-selection';\nimport {easeExpOut} from 'd3-ease';\nimport {isString} from 'd3-let';\nimport {viewWarn} from 'd3-view';\n\n\nexport default {\n    props: {\n        transitionDuration: 300\n    },\n\n    model: {\n        modalTitle: \"d3-view modal\",\n        modalBody: '',\n        modalDisabled: false,\n        modalActions: [\n            {\n                label: \"Close\"\n            }\n        ],\n        showModal: false,\n        $showModal () {\n            this.showModal = true;\n        },\n        $hideModal () {\n            this.showModal = false;\n        },\n        $actionClass (action) {\n            return action.level ? `btn-${action.level}` : 'btn-secondary';\n        },\n        $action (action) {\n            if (action.$action) action.$action();\n            else this.$hideModal();\n        },\n        $actionLabel (action) {\n            var html = action.icon ? `<i class='${action.icon}'></i> ` : '';\n            return `${html}${action.label}`;\n        }\n    },\n\n    render: function (props) {\n        return this.renderFromDist('d3-view-components', '/modal/template.html', props);\n    },\n\n    // function for opening a modal\n    // inject this method to the root model\n    $openModal (options) {\n        if (isString(options)) options = optionsFromTarget(options);\n        var modal = select('#d3-view-modal');\n        if (!modal.size())\n            select('body').append('modal').mount(options, v => v.model.$showModal());\n        else\n            modal.model().$update(options).$showModal();\n    },\n\n    $directive: {\n        refresh (model, show) {\n            if (!this.passes) return;\n            var sel = this.sel,\n                modal = sel.classed('modal');\n            let height;\n            if (show) {\n                sel.style('display', 'block').classed('show', true);\n                if (modal) {\n                    height = sel.style('height');\n                    sel.style('top', '-' + height);\n                    this.transition(sel).ease(easeExpOut).style('top', '0px');\n                }\n            }\n            else {\n                var op = sel.style('opacity'),\n                    t = this.transition(sel);\n                sel.classed('show', false);\n                if (modal) {\n                    height = sel.style('height');\n                    t.style('top', '-' + height).on('end', function () {\n                        sel.style('display', 'none');\n                    });\n                } else\n                    t.style('opacity', 0);\n                t.on('end', function () {\n                    sel.style('display', 'none').style('opacity', op);\n                });\n            }\n        }\n    }\n};\n\n\nfunction optionsFromTarget (selector) {\n    var sel = select(selector);\n    if (sel.size() === 1) {\n        return {\n            modalTitle: textFromTarget(sel.select('modal-title')),\n            modalBody: textFromTarget(sel.select('modal-body'))\n        };\n    } else {\n        viewWarn(`Could not obtain target from selector \"${selector}\"`);\n        return {};\n    }\n}\n\nfunction textFromTarget (sel) {\n    if (sel.size()) return sel.html();\n    return '';\n}\n","import {dispatch} from 'd3-dispatch';\n\nconst\n    COLLAPSE = 'collapse',\n    COLLAPSING = 'd3-collapsing',\n    COLLAPSED = 'collapsed',\n    WIDTH = 'width',\n    SHOW = 'show';\n\nexport const events = dispatch(\n    'show-start',\n    'show-end',\n    'hide-start',\n    'hide-end'\n);\n\n\nexport default {\n    events,\n\n    refresh () {\n        if (this.target) return;\n\n        var self = this,\n            sel = this.sel,\n            tid = sel.attr('aria-controls'),\n            target = tid ? this.select(`#${tid}`) : null,\n            node = target ? target.node() : null;\n\n        if (node) {\n            node.d3Collapse = this;\n            this.target = target;\n            this.smallScreen = sel.attr('data-small-screen') || 993;\n            this.container = this.getContainer(target);\n            const isOpen = target.classed(SHOW);\n            this.duration = 400;\n            this.transitioning = false;\n            sel.classed(COLLAPSED, !isOpen);\n            sel.attr('aria-expanded', isOpen);\n            this.on(sel, `click.${this.uid}`, (event) => self.toggle(target, event));\n        }\n    },\n\n    show (target, event) {\n        if (this.transitioning || target.classed(SHOW)) return;\n        if (event) event.preventDefault();\n        var self = this,\n            sel = this.sel,\n            dimension = this.getDimension(target);\n        target.classed(COLLAPSE, false).classed(COLLAPSING, true).style(dimension, 0);\n        sel.classed(COLLAPSED, false).attr('aria-expanded', true);\n        this.transitioning = true;\n        const capitalizedDimension = dimension[0].toUpperCase() + dimension.slice(1),\n            scrollSize = `scroll${capitalizedDimension}`,\n            node = target.node(),\n            size = node[scrollSize],\n            sizepx = `${size}px`;\n\n        if (this.container) this.container.show(sizepx);\n        events.call('show-start', undefined, target);\n\n        target.transition()\n            .duration(this.duration)\n            .style(dimension, sizepx)\n            .on(\"end\", () => {\n                self.transitioning = false;\n                target.classed(COLLAPSING, false).classed(COLLAPSE, true).classed(SHOW, true);\n                target.style(dimension, '');\n                events.call('show-end', undefined, target);\n            });\n    },\n\n    hide (target, event) {\n        if (this.transitioning || !target.classed('show')) return;\n        if (event) event.preventDefault();\n        var self = this,\n            sel = this.sel,\n            dimension = this.getDimension(target);\n        target.classed(COLLAPSING, true).classed(COLLAPSE, false).classed(SHOW, false);\n        sel.classed(COLLAPSED, true).attr('aria-expanded', false);\n        this.transitioning = true;\n        target.style(dimension, '');\n        if (this.container) this.container.hide();\n        events.call('hide-start', undefined, target);\n        target.transition()\n            .duration(this.duration)\n            .style(dimension, '0px')\n            .on(\"end\", () => {\n                self.transitioning = false;\n                target.classed(COLLAPSING, false).classed(COLLAPSE, true);\n                events.call('hide-end', undefined, target);\n            });\n    },\n\n    toggle (target, event) {\n        var sel = this.sel,\n            expanded = sel.attr('aria-expanded');\n        if (expanded === 'false') this.show(target, event);\n        else this.hide(target, event);\n    },\n\n    getDimension (target) {\n        return target.classed(WIDTH) ? 'width' : 'height';\n    },\n\n    getContainer (target) {\n        const self = this,\n            style = target.attr('data-container'),\n            element = style ? this.select(target.node().parentNode) : null;\n\n        if (element) {\n            let small = this.getSize(target);\n\n            this.select(window)\n                .on(`resize.${this.uid}`, () => {\n                    small = self.getSize(target, small);\n                });\n\n\n            return {\n                show (sizepx) {\n                    element\n                        .transition()\n                        .duration(self.duration)\n                        .style(style, sizepx)\n                        .on(\"end\", () => {\n                            element.classed(SHOW, true).style(style, '');\n                        });\n                },\n                hide () {\n                    element\n                        .transition()\n                        .duration(self.duration)\n                        .style(style, '0px')\n                        .on(\"end\", () => {\n                            element.classed(SHOW, false);\n                        });\n                }\n            };\n        }\n    },\n\n    getSize (target, prev) {\n        const sizepx = this.select('body').style('width'),\n            size = +sizepx.substring(0, sizepx.length-2),\n            small = +size < this.smallScreen;\n        if (prev === undefined) {\n            if (small) target.classed(SHOW, false);\n        } else if (small !== prev) {\n            if (small) this.hide(target);\n            else this.show(target);\n        }\n        return small;\n    },\n\n    destroy () {\n        if (this.target) this.target.on(`click.${this.uid}`, null);\n    }\n\n};\n","//\n//  Reusable Sidebar component\n//  ================================\n//\n//  Requires:\n//\n//  * navbar component\n//  * d3-collapse directive\n//  * d3-append directive\n//  * d3-active directive\n//\nexport default {\n    props: {\n        id: 'sidebar',\n        brand: 'sidebar',\n        classes: 'navbar-sidebar navbar sticky-top navbar-dark bg-primary',\n        brandUrl: '/',\n        itemAttr: ''\n    },\n\n    model: {\n        sidebarContent: '',\n        primaryItems: [],\n        secondaryItems: [],\n        // navbar attributes\n        navbarTitle: \"\",\n        navbarTitleUrl: \"/\",\n        sidebarToggle: '<i class=\"ion-android-menu\"></i>',\n        // collapse action\n        $collapse () {\n            var collapse = this.$event ? this.$event.currentTarget.d3Collapse : null;\n            if (collapse)\n                collapse.hide(collapse.select(this.$event.currentTarget));\n        }\n    },\n\n    render (props, attrs, el) {\n        this.model.primaryItems = asItems(this.model.primaryItems);\n        this.model.secondaryItems = asItems(this.model.secondaryItems);\n        this.model.sidebarContent = this.select(el).html();\n        return this.renderFromDist('d3-view-components', '/sidebar/template.html', props);\n    }\n};\n\n\nfunction asItems (items) {\n    return items.map(item => {\n        if (typeof item === 'string') {\n            item = {\n                name: item,\n                url: item\n            };\n        }\n        if (!item.url) item.url = '#';\n        return item;\n    });\n}\n","export {version as viewComponentsVersion} from './package.json';\nexport {default as viewFlatpickr} from './flatpickr/index';\nexport {default as viewMarked} from './marked/index';\nexport {default as viewModal} from './modal/index';\nexport {default as viewCollapse} from './collapse/index';\nexport {default as viewSidebar} from './sidebar/index';\n\nimport 'd3-transition';\nimport Handlebars from 'handlebars';\nimport {viewProviders} from 'd3-view';\n\nviewProviders.compileTemplate = Handlebars.compile;\n"],"names":["model","options","self","opts","$data","require","then","fp","destroy","sel","on","$emit","flatpickr","el","doc","r","viewProviders","marked","hl","all","libs","setOptions","html","selectChildren","mount","highlight","code","lang","getLanguage","undefined","highlightAuto","value","showModal","action","level","$action","$hideModal","icon","label","props","renderFromDist","isString","optionsFromTarget","modal","select","size","append","v","$showModal","$update","show","passes","classed","height","style","transition","ease","easeExpOut","op","t","selector","textFromTarget","COLLAPSE","COLLAPSING","COLLAPSED","WIDTH","SHOW","events","dispatch","target","tid","attr","node","d3Collapse","smallScreen","container","getContainer","isOpen","duration","transitioning","uid","event","toggle","preventDefault","dimension","getDimension","capitalizedDimension","toUpperCase","slice","scrollSize","sizepx","call","hide","expanded","element","parentNode","small","getSize","window","prev","substring","length","collapse","$event","currentTarget","attrs","primaryItems","asItems","secondaryItems","sidebarContent","items","map","item","url","compileTemplate","Handlebars","compile"],"mappings":"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"}